GovReady-Q Release Notes
========================

v0.9.1.20 (May 31, 2020)
------------------------

**Documentation changes**

* Re-wrote Ubuntu from Source instructions to explain deployment in much greater detail.
* Extend Ubuntu from Source instructions to include Gunicorn, Supervisor, and NGINX
* Created sets of exammple configuration files in ``local-examples`` to make deployment eaiser.

**Deployment changes**

* Introduce the ``govready_url`` environment parameter as a replacement for multiple params of ``host``, ``port``, and ``https``. During transition period ``govready-url`` parameter overrides any setting of ``host``, ``port``, and ``https`` parameters. Example below shows the ``local/environment.json`` file using the single ``govready-url`` parameter replacing legacy parameters:

```
    # Preferred local/environment.json file using govready-url parameter

    {
      "db": "mysql://USER:PASSWORD@HOST:PORT/NAME",
      "govready-url": "http://localhost:8000",
      "debug": false,
      "secret-key": "long_random_string_here",
      ...
    }


    # Legacy version local/environment.json file using deprecated host, https parameter

    {
       "db": "mysql://USER:PASSWORD@HOST:PORT/NAME",
       "host": "localhost:8000",
       "https": false,
       "debug": false,
       "secret-key": "long_random_string_here",
       ...
    }
```

* Created sets of exammple configuration files in ``local-examples`` to make deployment eaiser.
* The ``install-govready-q.sh`` script now reads the ``govready-url`` parameter from ``local/environment.json`` and uses the values to start GovReady-Q on the indicated host and port.

v.0.9.1.19 (June 02, 2020)
-------------------------

**UI Changes**

* Intially collapse component controls so it is easier see all components.
* Add full text of implementation statement to accordian panel header to make it easier to read controls.
* Create routes and templates for displaying components (e.g., elements) associated with a system.

v0.9.1.18 (May 30, 2020)
------------------------

**Documentation changes:**

* Ubuntu from source installation docs updated to include upgrading pip to solve problem of Ubuntu's defualt pip not installing Python packages under Linux user installs.

v0.9.1.17 (May 29, 2020)
------------------------

**UX changes:**

Performance improvements to improve rendering questions faster.

A major change in this commit is to create a cache for Jinja `expression_compile` routine.
This new cache is `jinja2_expression_compile_cache` and seems to have a noticable improvement
on maintaining a regular amount of time to render questions.

Several page reloads were the result of page redirects being handled
based on content of the next page inside the question save form. Calculating the next page
to display while accounting for skipping computed pages is now handled server side as a function
that can be called.

Removed links to imputed pages from the module finished page. It does not make sense to
link to imputed questions when users cannot visit imputed question pages.

Improve caching of OSCAL control catalogs.

v.0.9.1.16 (May 18, 2020)
-------------------------

**Development changes**

* Correct setup of tests in discussions app to avoid failing due to missing system modules.

v.0.9.1.15 (May 18, 2020)
-------------------------

**Deployment changes**

* Set gunicorn worker number to 1. Multiple gunicorn workers without SECRET_KEY set causes issue where new session key is autogenerated, sent user, and user has to constantly re-login.

v.0.9.1.14 (May 17, 2020)
-------------------------

**Deployment changes**

* Update deployment/docker/first_run.sh script to accept and pass along `--non-interactive` flag.
* Create install-govready-q.sh script (based on quickstart.sh) to have an easy single script for installing GovReady-Q.
* Update Dockerfile to copy over new install-govready-q.sh script and quickstart.sh script.
* Use docker_container_run.sh script in instructions for installing in the cloud.

**Documentation changes**

* Improvements to docker install, installation guides.
* Improve sequencing of install steps in Ubuntu. Apply improved improved squence to installing on CentOS guide.
* Breakout installation guide for Docker guides into "local", "cloud" and "advanced configuration options".

v.0.9.1.13 (May 17, 2020)
-------------------------

**Bug fixes**

* Correct control look up errors on the control catalog group page.
* Remove control lookup from catalog listing page.

v.0.9.1.12 (May 16, 2020)
-------------------------

**Deployment changes**

Gracefully handle AttributeError in siteapp migration 0030 possibly related to dangling discussion objects.

v.0.9.1.11 (May 11, 2020)
-------------------------

**Deployment changes**

Add docker compose file for deploying GovReady and Wazuh together.

v0.9.1.8.2 (May 10, 2020)
-------------------------

Update Documentation. Organization installation documentation inside of `Installation Guide` directory.
Clean up singe pages for installation notes on each Operating System flavor.
Rename 0.9.0 mentions to 0.9.x. Remove installation instructions from 0.9.x directory.

v0.9.1.9 (May 08, 2020)
-----------------------

Add export to Xacta Control Implementation Excel file format.

v0.9.1.8.1 (May 07, 2020)
-------------------------

Add full draft of 800-171_rev1_catalog.json in OSCAL.

v0.9.1.8 (May 06, 2020)
-----------------------

Create new projects and systems in pairs. When a Project is created by adding a
questionnaire (e.g., compliance app) from the store, create the linked System, too.

Projects and systems are now also given a unique name via the appending of the
project's unique ID to the name.

**Developer changes**

When a root Project App object is added from the store automatically
create the Project's linked System object consisting of a Element object
and a System object with the Element as the System's root_element.

When user updates the Project name, also update the name of the
System's root_element to keep names synchronized.

In the future as the store expands, more tests might be needed to
make sure only certain top level apps are creating systems. Right now
we use the existing tests of adding a Project to the "Started Apps"
folder as indication the Project is a top level app requiring a system.


v0.9.1.7 (May 02, 2020)
-----------------------

PDF generation and thumbnails are turned off by default for
security reasons. Change PDF and custom thumbnail generation for uploaded
files to optional. Require Admins to separately install the `wkhtmltopdf` library.

PDF generator library ``wkhtmltopdf`` has security issues wherein individuals could add
HTML references such as links or file references inside the documents
they are creating which the PDF Generator blindly interprets. This leads
to SSRF (Server Side Request Forgery) in which data is retrieved from
server and added to PDF by the PDF Generator. An issue also exists
with the sub-dependency of `libxslt` before CentOS 8.x raising CVE vulnerability
with scanners. For these reasons, PDF Generation is now a configurable setting.

v0.9.1.6 (April 29, 2020)
-------------------------

Continue to improve control editor.

Enforce unique Name field on Element model.
Match Component (Producer Element) by unique name to existing
Producer Element in the database when creating a new Statement.

Improve the combining of component statements.
Temporarily put result into a textarea to make easier to copy manually.

v0.9.1.5 (April 21, 2020)
-------------------------

Build on control catalog search to begin to represent
controls in the database for each system.

Control Guidance using OSCAL (#833)

* Small metadata changes to models

* Add 800-53 control catalog to output templates

First effort to add control catalogs (e.g., control guidance)
to the output templates using OSCAL and to create an editor
for adding and editing control statements stored in the database.

Initial use story is as a user/developer wanting to import
a spreadsheet of common controls to have a better interface for
reading the common controls against the control statement and
drafting the application layer controls for hybrid controls.
The user wants an easier way to do this than a spreadsheet because
spreadsheets are hard to read.

Begin a parser library to have code to input variously formatted
source material into the database.

** Developer changes **

Replace SecControl library and parsing older XML version
of 800-53 catalog with pure python parsing of modern
OSCAL version of catalogs.

We also add a new item type to module_logic.TemplateContext called
`control_catalog`. When includeing `{{control_catalog}}` in output
template we now have access to a dictionary of controls where
each control is listed as a dictionary.

Create a new script `oscal.py` and a `Catalog` class
and create look ups of controls.

Because OSCAL is hierarchical and recursive, we also generate
a flattened, simplified version of our control catalog.

* Add simple CommonControl model

Add simple CommonControl and CommonControlProvider models.

We are creating CommonControl model as first step to being able
to manage control implementation statements in GovReady.

We also want a way to import CommonControls into GovReady database.

We create `CliControlImporter` as first cut tool for reading
an excel spreadsheet with xlrd, converting the rows to simple
control object and importing into the database. Code snippets
included. Class and snippets only work for one spreadsheet format,
but some abstraction exists to make customization easier for other
formats.

Refactor implementation editor to use panels and have
interactivity for adding additional implementation statements
using Boostrap 3.3. panel model.

In models, sketch out the "statement" model for implementation attestations
but leave commented out for present.

Add Ajax calls to save implementation statements

This commit puts in the Django and Javascript to save a statement
to the server via Ajax.

Each implementation statement panel and form is given a unique id
when added to the page to make sure the correct statment information
is passed to the server.

When component name is updated, the panel title updates.

Add hidden fields to send the control id and the system name as part
of the form.

[WIP] Add utility class to parse statements with tagged elements

Create utility `StatementParser_TaggedTextWithElementsInBrackets` class
to parse collection of statements in a text file with serially listed
controls where control ids and elements are enclosed in brackets.

The idea is that common controls or other controls can be extracted
and put into a long text file separated by control ids. Brackets are put around
proper entities (e.g., system "elements") that mentioned in the implementation
statement. By identifying system elements, it is possible to build a basic
entity identification tool and create a specific listing of elements involved
in each implementation statement. This is an initial step to create
component-to-control mappings.

* Goal is to save statement of whatever length and list of system elements
  involved with process
* Ignore multiple intervening lines
* System name must be entered manually
* Script makes one pass to build search dictionary with bracketed strings
  then uses dictionary to find all instances of strings in statements.
  This makes it unnecessary to place all instances of elements regardless of brackets.

Like other parse and import utility classes, this basic code may need modifications
for specific situations.

* Add Statement, Element models; Save implementation statements

This commits finishes work started in commit 4e77ba531069832d0a2507ebfd32a0e41f2bf8df

This commit adds Statement and Element models as the core feature
to track component-to-control statements. The more general terms of
"Statement" and "Element" are used instead of "Control"and "Component".

An "implementation statement" is a statement (and attestation).

A many to many relationship is supported for Statements and Elements.

This commit finishes in the Django and Javascript to save a statement
to the server via Ajax.

To Do:
- Delete statements
- Tests written


v0.9.1.4 (April 08, 2020)
-------------------------

This release exposes control catalog to end users for search.

Previously versions embedded controls within output templates.

**UI changes**

* Create new `control` pages for looking up control catalog guidance.

**Developer changes**

* Add 800-53 control catalog via classes `SecControlsAll` and `SecControl`
* Create a new directory `controls` into which we add a class for listing a security control catalog.
* Add a new item type to module_logic.TemplateContext called `control_catalog` to enable iterable dictionary of control catalog.


v0.9.1.3.3 (April 07, 2020)
--------------------------

**Deployment changes**

* Remove build gcc-c build lib from build
* Remove uwsgi from requrirements
* Refactor Dockerfile for clarity
* Upgrade to Django 2.2.12 LTS to address issue noted by pyup.io safety
* Update various Python libraries

**Bug fixes**

* Fixed issue where only users who could use the editing tool could see the datagrid questions render


v0.9.1.3.1 (March 31, 2020)
---------------------------

**UI changes**

* Add `render` key to datagrid question type to force vertical rendering of tabular data

v0.9.1.3 (March 25, 2020)
--------------------------

**Deployment changes**

* Upgrade requirements

**Bug fixes**

* Gracefully handle empty datagrid question type in output templates


v0.9.1.1 (March 20, 2020)
--------------------------

**UI changes**

* Conditionally add in route `accounts/logout` when SSO Proxy enabled.


v0.9.1 (March 12, 2020)
-----------------------

GovReady-Q now supports Datagrid question type for easy entry of tabular data.

**UI changes**

* Use datagrid (jsGrid) to support questions best answered with tabular data.


v0.9.0.3.3 (February 23, 2020)
--------------------------------

**Bug fixes**

* Use Math.pow in main.js to fix IE11 failing to display invite modal


v0.9.0.3.2 (February 21, 2020)
-------------------------------

**Deployment changes**

* Support environmental param for GovReady Admins in SSO context
* Create portfolio for user account added by SSO
* Adding in views.debug route and view
* Remove deprecated upgrade app view

**UI changes**

* Fix IE11 not displaying assign and invite modals due to error parsing main.js

**Other changes**

* Add templates for Django performance debug toolbar


v0.9.0.3 (November 21, 2019)
----------------------------

**UX changes**

* Significantly improve performance of rendering questions and module review page (PR #774)
* Fix failure to display list of questions in progress history in certain circumstances

**Developer changes**

* Create migrations for shortening varchar field length to 255 on siteapp.models

**Deployment changes**

* Adding in health paths to examine static files.


v0.9.0.2 (October 16, 2019)
---------------------------

Minor patches to v0.9.0.

**UX changes**

* Permissions added to settings modal. Permissions removed from settings. (#761)
* Correctly display database type SQLite on /settings (#764)

**Documentation changes**

* Minor typo corrections. (#762)


v0.9.0 (October 9, 2019)
------------------------

Our most exciting release of GovReady-Q!

* Faster loading and launching of asssessments/questionnaires!
* Simplified install with no subdomains to worry about!
* Better permissions model using Django-Guardian!
* Portfolios to organize projects and manage permissions and access!
* Better authoring tools!
* Streamlined new register,login page!
* Beautiful and helpful new start page!
* One-click deployment scripts for simple testing deployments into AWS.

**WARNING - SIGNIFICANT DATABASE CHANGES**

Running the migrations to update the database will perform changes that will prevent rolling back the data migrations.

**Migrating from 0.8.6 to 0.9.0**

We recommend testing 0.9.0 with an empty database.

We recommend testing migrations from 0.8.6 to 0.9.0 against a copy of your database.

We have developed migration script and guide to support 0.8.6 to 0.9.0 upgrades.

New manage.py commands help populate 0.8.6 test data to test migration scripts.

**Security enhancements**

* Upgrade to Django 2.2.x to address multiple security vulnerabilities in Django prior to 2.2.

**Catalog changes**

* Compliance apps catalog (blank projects/assessments) read from the database rather than going to remote repositories App Source. Performance significantly improved.
* Delete app catalog cache because the page loads fast.
* New versions of the compliance apps are added to the catalog at the bottom of the Guidedmodules > AppSource page in the Django admin interface.

**Multitenancy and subdomains removed**

* Remove multitenancy and subdomains.
* Serve all pages on the same domain.
* Remove organization-specific name and branding from nav bar.
* Projects page now shows projects across all of a user's organizations, various functions that returned resources specific to an organization don't filter by organization.
* Single apps catalog for all users. (In future we will use new permissions model to restrict access to compliance apps in catalog.)
* [WIP] Remove link to legacy organization project in settings page.

**Portfolios added**

* Portfolio feature to organize and manage related projects (assessments).
* Projects exist in only one portfolio.
* [WIP] When a new user joins GovReady they are automatically added and made owner of their own Portfolio.
* Any user can create a portfolio and add projects to the portfolio.
* Users can be invited to a Portfolio by Portfolio owners and granted ownership by Portfolio owners.

**Permission changes**

* Added popular, mature Django-Guardian permission framework to enable better management of permissions on indivdidual instances of objects.
* New Permissions object primarily applied to portfolios in this release, with some overlap into projects.
* Preserved original lifecycle interface in template project_lifecycle_original.html.
* On login errors make signin tab active on page reload to display the errors.
* Remove listing in catalog of the fields related to the size of the organization.
* Display username instead of email address for user string.
* Use plane language for names of top-level questionnaire stage columns: To Do, In Progress, Submitted, Approved.

**Authoring tool improvements**

* Superusers can create whole new questionnaire files.
* Edit question modular dialog moved from large center screen popup to right-hand sidebar.
* Increase readability of edit form.
* Insert question into questionnaire.
* Enable editing on questionnaires from all App Sources instead of just "local".
* Button to view entire questionnaire source YAML.
* TEMPORARY correction of admin access to get tests to run. MUST FIX.
* Upgrade assessment no longer requires loading intermediary page; Upgrade routine begins directly with action button.

**UX changes**

* Clean up reactive styling to operate across multi-size screens.
* Register/login page simplified by putting register and sign in inside a tabs and replacing jumbotron look and feel with minimal sign up and join links.
* User home /project page improved with four getting started actions recommend on what was previously a nearly blank page; replacing "compliance app" terminology with "project" terminology; sleeker table-like display of started projects.
* Question progress list improved styling incorporates colors to more clearly see completed and skipped questions and displays module to module progress.
* Question navigation to next question now linear to make skipping around easier and links to question in next module.
* Nav bar provides "add" button to start new project or create portfolio from every appropriate page.
* Nav bar improved with displayed links to "Projects" and "Portfolios".
* Nav bar icons for "Analytics" and "Settings"; Remove of dropdown "MENU" item.
* Django messages indicating successful logins/logouts now ignored in base template. Change will hide any Django message of level "Success". Hiding success messages removes the need to dismiss messages or fade them out.

**Developer changes**

*Organization related*

* The OrganizationSubdomainMiddleware which checked the subdomain in the request host header, performed Organization-level authorization checks, and set the global request.organization attribute to the requested Organization, is deleted.
* the Content Security Policy for the site is updated to remove the white-listed landing domain (we used it for cross-origin requests to get user profile photos, which were always served from the landing domain)
* Django's ALLOWED_HOSTS setting no longer needs an entry for a wildcard subdomain under the landing domain since we are not using that anymore.
* The LANDING_DOMAIN, ORGANIZATION_PARENT_DOMAIN, SINGLE_ORGANIZATION_KEY, and REVEAL_ORGS_TO_ANON_USERS attributes on django.conf.settings are removed.
* Update tests for organizational removal.
* Remove description of multi-tenant mode and organization subdomains from documentation.
* siteapp.views.new_folder isn't currently in use, so did not fully update related code to get the new folder's organization from somewhere.
* Starting to switching language from apps to assessments/questionnaires.
* Beware of legacy references to organization in source code. Still cleaning up removal of multitenancy and subdomains.
* Absolute URLs to user-uploaded media now use SITE_ROOT_URL instead of organization subdomains.
* The landing domain URLs are moved into the main urlconf (except the ones that were duplicated in both urlconfs because they appeared on both domains).
* Revise API URLs to no longer have the organization in the path (we can put it back if it was nice, but it no longer serves a functional purpose).
* Remove the Invitation.organization field.

*Questionnaire related*

* AppVersion now has a boolean field for whether the instance should be included in the compliance apps catalog for users to start new projects with that app.
* The AppSource admin now lists all of the apps provided by the source and has links to import new app versions into the database and to see the app versions already in the database by version number.
* When starting a compliance app (i.e. creating a new project), we no longer have to import the app from the remote repository --- instead, we create a new Project and set its root_task to point to a Module in an AppVersion already in the database.
* App loading is refactored in a few places. The routines for getting app catalog information from the remote app data are removed since now we only need it for apps already stored in the database.
* The AppSource admin's approved app lists form is removed since adding apps into the database is now an administrative function and the database column for it is dropped.
* Tests now load into the database the apps they need.
* The app catalog cache is removed since the page loads much faster.

* User profile information was previously pre-loaded by the OrganizationSubdomainMiddleware, now it's loaded on first use.
* When users register, the email to site admins no longer includes the organization they were looking at when they signed up because there's no such thing anymore.
* Fix tests to login with new forms in landing page tabs

*Miscellaneous*

* Fix various SonarQube reported issues to use preferred HTML tags for stong and em
* Testmocking scripts for populating test data into application.

**Deployment changes**

* Remove multi-tenancy and serves all pages from the on the same domain. Previosuly, requests to Q came in on subdomains and the subdomain determined which Organization in the database the request would be associated with and individuals had to re-login across subdomains. Multitenancy increased install complexity and we were not seeing use of the multitenancy feature. Deployment is now simpler.
* Add deployment scripts of multi-container GovReady-Q and NGINX via Docker-compose.
* Prevent multiple notification emails in environments running multiple Q instances against single database by performing record lock on notification and checking if notification already sent.
* `first_run` reports if Superuser previously created.
* Added check to `dockerfile_exec.sh` to prevent unintended 0.9.0 databse upgrades.


v0.8.6.2+devel
--------------
* The AppInstance model/database table was renamed to AppVersion to better reflect the meaning of the model.
* Upgraded some dependencies.


v0.8.6.2 (August 14, 2019)
-----------------------

Development/testing changes:

* Added `quickstart.sh` script for quick install and testing with mock data.
* Added mock data generation for testing.

Documentation changes:

* Tabbed docs.
* Improvements in documentation.

v0.8.6.1 (May 08, 2019)
-----------------------

Deployment changes:

* [Fix] Modified Dockerfile to build MySQL-related libraries into Docker deployment so container would support using MySQL databases out of the box.

v0.8.6 (April 29, 2019)
-----------------------

Application changes:

* Removed "I'll Come Back" and "Unsure" skip buttons that were confusing users. (Data structures retained in database for backward compatability and for possible improved version of indicators.)
* Organization Administrators can now be added within organization Settings by other Organization Administrators.
* Project (e.g., Compliance App) administrators can now be added within Apps settings.
* @ mention any user within discussion regardless of organization or project member instead of @ mentioning only users within the project.
* The compliance apps catalog is now read from compliance apps cached in the database rather than querying local and remote AppSources each time the catalog is loaded or an app is started. A new field is added to the AppVersion (formerly AppInstance) model in the database for whether it should be included in the compliance apps catalog. The AppSource admin's approved apps list table is replaced with a new table showing which compliance apps from the source are already in the compliance apps catalog (or hidden from the catalog but in the database) and which which can be added.

Developer changes:

* Expose rich question metadata within output document templates. Documents can now access if question was skipped by user and skip reason, if question was answered or not, if answer imputed and other goodies.
* Compliance App authors can now remove the skip buttons from displaying on questions by indicating them hidden in the App's `app.yaml` file.

Documentation changes:

* Clearer system requirements discussion.
* Fixed a mis-matched heading in documentation that was causing generated hierarchial table of contents to be malformed.
* Reflowed documentation sections to put deployment instructions earlier and improved structure of deployment instructions.
* Test documentation now includes examples for running individual test Classes and methods.

Deployment changes:

* Split off MySQL-related libraries into a separate pip requirements file so `mysql-config` library would only be required when installing Q with MySQL.
* Upgraded  dependencies.
* The AppInstance model/database table was renamed to AppVersion to better reflect the meaning of the model.
* Upgraded some dependencies.

v0.8.5 (February 9, 2019)
-------------------------

Application changes:

* An undocumented feature called "unskippable questions" was removed. This feature inadvertently hid some questions, resulting in a module being indicated as finished but its progress bar showing questions are unfinished.

Deployment changes:

* GovReady-Q can now be deployed behind an enterprise reverse proxy authentication server that sends login information in HTTP headers.
* Python 3.6+ is now required.
* Documentation was added for creating a custom Docker image that adds organization branding to the site.

Developer changes:

* Add a new VERSION file to source code control that stores the current version of the software, plus a commit hash for public releases, so that nightly builds don't fail because of a missing VERSION file. Add build tests to ensure the VERSION file matches the top release in CHANGELOG.md and ends with "+devel" if and only if this is a development release.
* The application was not working on macOS in version v0.8.4 because of a bug in commonmark 0.8.0.
* Some of the templates were split out into multiple files to make it easier to override them for custom branding.
* Upgraded some dependencies.

v0.8.4 (October 23, 2018)
-------------------------

Application changes:

* "Invite Colleague" on the home page now is always displayed instead of being hidden in some cases.
* The "Related Controls" button on project pages is back now as "Documents."

App authoring changes:

* Output document templates can now be stored in separate files rather than all output document templates being stored in the module YAML file.

Other changes:

* A new command-line tool called "assemble" is available that instantiates an entire project from a YAML file of app selections and question answers and generates/saves output documents to files on disk.
* Add system minimum and recommended software requirements to documentation.
* Version 0.8.3 skipped.

Developer changes:

* Non-cryptographic hash functions replace cryptographic hash functions in places where a cryptographic hash function is not necessary and might be excessively slow.
* Other minor fixes.
* Upgraded some dependencies.

v0.8.2 (July 20, 2018)
----------------------

Application changes:

* Javascript and CSS static assets of compliance apps may have had the wrong MIME type set.

App authoring changes:

*  The authoring tool is updated to show app catalog and other app-module YAML in two textareas instead of one, since they are now stored separately in the database (see below), but they are recombined when the authoring tool updates local files.
* A new `version-name` field is added to app.yaml catalog information.

Deployment changes:

* The HTTP Content-Security-Policy header is now set to prevent browsers from loading any third-party assets.
* A CentOS 7-based Vagrantfile has been added to the source distribution for those looking to deploy using a VM.
* Added some outputs to Docker launches to see the Q version and the container user during build and at the very start of container startup.
* We're now publishing version tags to Docker Hub so that past versions of GovReady-Q remain available when we publish a new release.
* With Docker, email environment variable settings were ignored since the last (-rc3) release.

Developer changes:

* The AppInstance table now has created and updated datetime columns, version_number and version_name columns extracted from the catalog metadata, and a new catalog_metadata field that holds the original YAML 'catalog' information (but in JSON in the database; this information was previously in the 'app' Module's spec field).
* The ModuleAssetPack table is dropped and its columns have been moved to the AppInstance table.
* Code refactoring: split module_sources.py into two modules.
* Upgraded some dependencies.

v0.8.2-rc3 (May 18, 2018)
-------------------------

Application changes:

* Apps can now be upgraded by project administrators.
* Project administrators can now delete tasks.
* Emojis are now served using static assets and an emoji-related IE11 incompatibiltiy was fixed.
* Performance improvements.
* Minor UI improvements.
* Minor bug fixes.

App authoring changes:

* Apps can now have a README.md file which is displayed in the app's catalog page, replacing the catalog long description field.
* Templates now allow multi-line Jinja2 directives.
* Template errors now show line numbers.

API changes:

* module-set questions can now be created through the API.

Administrative changes:

* Minor bug fixes.

Deployment changes:

* Documentation is now published at http://govready-q.readthedocs.io/en/latest/.
* Docker launch failed if `HTTPS` environment variable was not passed in and may have failed with a permission denied error and now gives a better error message when the database cannot be created on a read-only filesystem.
* Docker deployments now support environment variables for all application settings.
opened, such as if we're in a Docker container with a read-only filesystem, and documentation improved.
* Added a new `branding` environment setting for sites to override templates and provide new assets using a custom Django app, and improved our Dockerfile to make it easier for downstream packagers to incorporate into their own images.
* Added HTTP->HTTPS redirects in Docker deployments using HTTPS that also respond to HTTP requests.
* Updated documentation for App Sources and RHEL deployments.
* Added preliminary documentation for deplying to Amazon Web Services Elastic Container Service.

Developer changes:

* Docker builds now run `yum update`, install a MySQL database driver, and run Django checks.
* Improved the test_screenshots management command to help creating screencasts.
* Dropped dependency licensing checking.
* Upgraded some dependencies.

v0.8.2-rc2 (April 12, 2018)
---------------------------

Application changes:

* Downloading output documents in 'markdown' format no longer round-trips through pandoc when the template was authored as Markdown.
* Fix caching bug with output documents in multiple formats.
* Small UI improvements.

App authoring changes:

* Templates no longer die when an undefined variable is accessed but instead show inline error messages.

Deployment changes:

* Docker launch failed if some environment variables were not passed in.

Developer changes:

* Docker image build script now pulls the latest CentOS image before building and checks that a CHANGELOG entry has been added for the release version.
* Changelog entries added for recent past releases.
* Upgraded some dependencies.

v0.8.2-rc1 (April 9, 2018)
--------------------------

Administrative changes:

* Send site admins an email whenever a user signs up or an organization is created.

Deployment changes:

* Docker now uses uWSGI as the production-grade HTTP+application server instead of `manage.py runserver`.
* Docker now uses supervisord to run the application server and the notification emails background process, which had not been running in Docker deployments.
* Our Docker first_run script was broken by a recent release.

v0.8.1 (April 9, 2018)
----------------------

Application changes:

* Replace the "Skip" button with I don't know, It doesn't apply, I'll come back, and Not sure.
* Minor UI improvements.

v0.8.0: v0.8.0-rc0 (Feb. 27, 2018) through v0.8.0-rc13 (April 6, 2018)
----------------------------------------------------------------------

Application changes:

* The homepage listing projects and folders has been revamped to lay out compliance projects in lifecycle stage columns.
* Project pages now arrange tasks in columns as well according to the completion status of the task, tasks have progress bars showing completion, and module-set questions with multiple answers are now shown as separate entries.
* On the review page, the reviewed state of questions can now be changed with one click.
* Discussion comments are now entered using a plain text editor instead of a rich text editor, and @-mention autocompletes are working again.
* Added a button to clear the compliance apps catalog cache to the bottom of the app catalog page that only users with the Django appsource_change permission can see.
* Added various error handling for invalid app content and invalid AppSource configurations.
* Tasks whose titles are automatically set by rendering the instance-name field now revert back to the module title string if the instance-name field refers to a question that has not yet been answered.
* Project import now has a better UI for its results page.
* Some performance improvements.
* Minor UI fixes and improvements.
* Fixed a bug in project import with invalid data.
* Fixed crash related to discussion guests on dangling discussions.

Administrative changes:

* Add a new settings page for administrative functions including setting up the help squad and reviewers and listing organization administrators.
* Improved the AppSource admin page to clarify setting up public and private git repositories.
* AppSources can now control which apps are shown in the catalog.
* AppSources for git repositories now use the repository's default branch instead of "master," since it might not be "master," if a branch is not specified.

App authoring changes:

* Improved the app authoring tools.
* Add a new management command for taking screenshots of starting a compliance app and answering its questions to make documentation writing easier.
* Added an 'examples' field to questions for showing example answers on question pages.
* Added 'display: top' option to output documents to show the document at the top of the task finished page.
* Apps can now be hidden by AppSource repositories using a catalog.yaml file.
* The ephemeral encryption feature was removed.
* The "required" field on questions was removed.
* The "tab" field on questions was removed.
* The "external-function" question type was removed.
* Updated documentation screenshots.

Deployment changes:

* Docker deployments now run the container's CMD process as a non-root user.
* Docker deployments now support running with a read-only root filesystem.
* Docker containers wouldn't start if FIRST_RUN wasn't set.
* Docker image now uses CentOS 7 rather than Debian.
* Docker deployments now have more logging.
* MySQL databases are now supported.
* Various other fixes for Docker.

Development changes:

* Add static code analysis testing in CircleCI using bandit.
* Added code coverage artifact to CircleCI builds.
* Upgraded our CircleCI CI pipeline to CircleCI 2.0.
* Added ability to run unit tests within the Docker deployment container.
* Replaced hard-coded test passwords with randomly generated strings.
* Small changes to avoid false positives in static code scanning.
* Improvements to the Docker launch scripts.
* Added some tests. Minor changes to tests.
* Upgraded to the Django 2.0.3 framework.
* Upgraded and pinned some dependencies.
* Documentation improvemnts.
* The installation of psycopg2 in the Dockerfile is now in requirements.txt so its hashes are checked when downloaded.

v0.7.0-rc2 (January 8, 2018)
----------------------------

First release.
