id: sample_module
title: Animal Compliance
introduction:
  format: markdown
  template: |
    Welcome to the Animal Compliance module. This module will help you determine if your animal has an authority to operate within {{project}}.

    This module should take you two minutes.
questions:
  - id: q1
    title: Your Favorite Animal
    prompt: What's your favorite animal within the context of {{project}}?
    type: text

  - id: qb
    title: Did You Ever Own One
    prompt: Did you ever own a {{q1}}?
    type: yesno

  - id: qb1
    title: How Many Did You Own
    prompt: How many {{q1}}s did you own?
    type: integer
    help: Think hard!
    placeholder: enter a number
    min: 1
    max: 10
    impute:
      - condition: qb == 'no'
        value: 0

  - id: qc
    title: Classify The Animal
    prompt: How would you classify this animal?
    type: multiple-choice
    min: 2
    max: 3
    choices:
      - key: pet
        text: common pet
        help: Is this animal a common pet?
      - key: exotic-pet
        text: exotic pet
        help: Is this animal considered an exotic pet?
      - key: not-a-pet
        text: not a pet
        help: Choose this if the animal is not socially acceptable as a pet.
      - key: kid-friendly
        text: kid friendly
        help: Would this animal be a good pet for kids?
      - key: adult-friendly
        text: adult friendly
        help: Would this animal be a fulfilling pet for adults?

  - id: q2
    title: Do You Know Its Species Name
    prompt: Do you know the {{q1}}'s species name?
    type: yesno

  - id: q3
    title: Its Species Name
    prompt: What's the technical name of the species commonly known as {{q1}}?
    type: text
    impute:
      - condition: q2 == 'no'
        value: don't know

  - id: q4
    title: Natural Habitat
    prompt: "We now must collect information on {{q1}}'s natural habitat."
    type: module
    module-id: sample_two

  - id: q5
    title: Reference Link
    prompt: What's a good URL to use to learn more about this animal?
    type: url
      
output:
  - name: Document
    format: markdown
    template: |
      # Animal Compliance for {{project}}

      Hello! This is the output of the module based on the Markdown template in the YAML definition.

      #### Animal:
      {{q1}} ( {{q3}} )

      Read more about them at {{q5}} or using [a Wikipedia search](https://en.wikipedia.org/w/index.php?search={{q1|urlencode|safe}}).

      {% if qb == 'no' %}
      I never owned one.
      {% else %}
      I owned {{qb1}}.
      {% endif %}

      {{qc}}

      #### Habitat:

      Lives on land: {{q4.q1}}

      Lives in the sea: {{q4.q2}}

      _Have a nice day!_
  - name: Text Document
    format: text
    template: |
      {{q1}} {% if q2 %} ( {{q3}} ) {% endif %}
      
      {{qc}}
      
      Land: {{q4.q1}}

      Sea: {{q4.q2}}
  - name: HTML
    format: html
    template: |
      <ul>
      {% for item in qc %}
        <li>{{item}} <i>{{item.key}}</i></li>
      {% endfor %}
      </ul>
  - name: Data
    format: yaml
    template:
      - name: "{{q1}}"
        value: "{{q2}}"
